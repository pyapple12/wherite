# 问题集

> 当前版本: ver 0.11

本文档记录 Wherite 项目开发过程中遇到的问题和解决方案。

记录中使用到的格式：

- 实现难度：[简单,中等,复杂]
- 优先级：[最高,高,中,低,暂缓]
- 状态：[待修复,✅ 修复完成,评估中,已拒绝]

---

## [P01].[致命]

## [P02].[严重]

## [P03].[一般]

## [P04].[轻微]

### [P04a].[移动端适配] → [F02a01]

问题描述：

- 程序主要面向桌面平台，移动端适配不足
- 触控操作和屏幕尺寸适配需要优化

问题影响：

- 移动端用户体验较差
- 触控操作可能不灵敏

优先级：轻微

状态：[待修复]

### [P04b].[数据库大小限制] → [F03a03]

问题描述：

- SQLite 数据库有文件大小限制（默认 140TB，但实际使用中会更早遇到性能问题）
- 大量文章和图片可能导致数据库文件过大

问题影响：

- 极端情况下可能影响程序性能
- 需要考虑数据归档方案

优先级：轻微

状态：[待修复]

### [P04c].[图片管理] → [F02b02]

问题描述：

- 图片存储在本地目录，可能导致数据一致性问题
- 图片文件可能会丢失或损坏

问题影响：

- 可能导致图片无法显示
- 影响文章内容的完整性

优先级：轻微

状态：[待修复]

### [P04d].[数据安全] → [F03a01]

问题描述：

- 数据库文件没有加密保护
- 敏感信息可能会泄露

问题影响：

- 数据安全风险
- 不适合存储敏感信息

优先级：轻微

状态：[待修复]

## [P05].[建议]

### [P05a].[PDF 导出功能] → [F01a01]

建议内容：目前不支持导出为 PDF 格式，需要额外的依赖库支持，建议实现 PDF 导出功能，确保导出格式的质量和可读性。

预期效果：用户可以将文章导出为 PDF 格式，方便分享和打印，提高程序的功能完整性。

实现难度：中等

优先级：中

### [P05b].[打包和分发] → [F01b01]

建议内容：目前没有自动化的打包和分发流程，用户需要手动编译程序，建议实现自动化构建和打包，生成各个平台的安装包，并编写用户手册和安装指南。

预期效果：降低用户使用门槛，提高程序的易用性和推广性，减少手动操作的错误。

实现难度：中等

优先级：中

---

## 问题解决记录

### [P01a] 解决时间：2025-01-08

- 问题：CGO 依赖导致编译困难
- 解决方案：改用 modernc.org/sqlite 驱动
- 结果：成功移除 CGO 依赖，提高了编译和运行的稳定性

### [P01b] 解决时间：2025-01-08

- 问题：数据丢失风险
- 解决方案：实现自动保存功能
- 结果：减少了数据丢失的可能性，提升了用户体验

### [P02a] 解决时间：2025-01-08

- 问题：文章列表显示性能下降
- 解决方案：添加数据库查询索引
- 结果：查询速度显著提升，用户体验改善

### [P02b] 解决时间：2025-01-08

- 问题：启动速度优化
- 解决方案：实现数据库索引优化和延迟加载
- 结果：启动时间显著缩短

### [P03a] 解决时间：2025-01-08

- 问题：Gio GUI 框架学习曲线
- 解决方案：深入学习官方文档和示例代码
- 结果：掌握了 Gio 框架的使用方法

### [P03b] 解决时间：2025-01-08

- 问题：代码模块化不足
- 解决方案：进行模块化拆分
- 结果：代码结构更清晰，可维护性提高

### [P03c] 解决时间：2025-01-08

- 问题：Markdown 解析性能
- 解决方案：使用高效的 goldmark 库
- 结果：解析速度提升，预览更流畅

### [P03d] 解决时间：2025-01-08

- 问题：配置管理
- 解决方案：实现配置管理系统
- 结果：配置能够持久化存储

## 链接图示：

| 链接状态 | 问题编号 | 问题描述             | 对应计划项 |
| :------: | :------: | -------------------- | ---------- |
|    ⏳    |  [P05a]  | 建议：PDF 导出功能   | → [F01a01] |
|    ⏳    |  [P05b]  | 建议：打包和分发优化 | → [F01b01] |
|    ⏳    |  [P04a]  | 移动端适配问题       | → [F02a01] |
|    ⏳    |  [P04b]  | 数据库大小限制       | → [F03a03] |
|    ⏳    |  [P04c]  | 图片管理问题         | → [F02b02] |
|    ⏳    |  [P04d]  | 数据安全问题         | → [F03a01] |

> 说明：所有待解决问题（P04-P05）均已链接到对应的计划项（[F01]-[F03]）。P01-P03 问题已全部修复并归档。

## 问题综述

- **[P01]** 无致命问题（已全部修复并归档）
- **[P02]** 无严重问题（已全部修复并归档）
- **[P03]** 无一般问题（已全部修复并归档）
- **[P04]** 轻微问题：4 项（P04a-P04d）
- **[P05]** 建议项：2 项（P05a-P05b）
